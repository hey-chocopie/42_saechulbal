# 1. 학습 날짜

* 2020-07-27(월)

# 2. 학습시간

* 17:00 ~ 22:00(이노베이션 아카데임 클러스터)

# 3. 학습 범위 및 주제

* 힙스텍에 대한 공부와, leaks잡는 방법.

# 4. 동료 학습 방법

해당 사항 없음.

# 5. 학습 목표

* leaks에러가 발생하는지 확인하는 방법
* 힙과 스텍의 차이를 이해.

# 6. 상세 학습 내용
* 실제 코딩한 시간 3시간

* leaks에러가 나는지 확인하는 방법.
어제 gnl을 제출했는데, leaks에러가 발생해서 fail을 당했다. 나혼자서는 어떻게 잡을지 감이 안왔지만
1기 1차분들과 동료평가를 하면서 leaks을 잡는 방법을 배우게 되었다.

1. 우선 돌리고 싶은 함수를 일단 만들다. ex) get next line함수.
2. 그 후에는 main문을 만드는데, 정상적으로 작동하게 하는 main문을 만들고 마지막에 while(1)무한 루프를 만들어서 컴파일 파일을 동작을 계속 진행 시킨 상태에서
3. leaks a.out	또는 a.out대신 컴파일 한 파일을 적으면 됨. 을 실행하면 leaks가 난 메모리를 보여준다.

<pre><code>
#include <stdio.h>
#include <fcntl.h>
#include <stdlib.h>
#include <unistd.h>

#define BUF_SIZE 1000


int get_next_line(int fd, char **line);

int main(){

		int fd;
		char *buf;
		int check;
		char *aa;
		int i;
		aa= (char *)malloc(sizeof(char)*1);
		i = 0;
		check = 1;
        fd=open("dracula.txt",O_RDONLY);
		while(check != 0 && check != -1 )
		{
			check = get_next_line(fd, &buf);
			printf("%s\n", buf);
			free(buf);

		}
		while(1)
			;

       close(fd);
}
</pre></code>
>  메인문의 예 😆
#
#
# * 스택과 힙의 차이. 
## 1. 스택
> 스택의 경우 컴퓨터 메모리의 임시변수를 저장하는 컴퓨터 메모리의 특별영역. 
> 함수가 새 변수를 선언할떄마다 푸시 되고, 함수가 종료될때 모든 스택변수도 해제된다. 
> 스텍의 장점은 메모리를 손으로 할당할 필요없이, 그냥 쓸수 있음.  스택메모리를 효율적으로 구성하기 떄문에 스택변수를 읽고 쓰는 속도가 매우 빠름. 
> 스택의 또다른 특징은 저장할 수 있는 변수의 크기가 제한되어잇음. 
#
#
## 2. 힙
> 힙은 cpu 가 엄격하게 관리하지 않는 컴퓨터 메모리영역. 힙에 메모리를 할당하려면 malloc을 하거나, calloc을 해야함. 다 쓰고 나면. free
> free 가 똑바로 되지 않으면 메모리 누수가 발생하는데, 이를 디버깅 섹션에서 볼 수 있듯이 valgrind라는 툴을 이용하면 메모리 누수감지에 메모리 누수감지를 편하게 할 수 있음. 
> 스택과 달리 힙에는 가변 크기에 대한 크기 제한이 없음. 힙 메모리는 포인터를 사용하여, 힙의 메모리에 엑세스 해야하기 떄문에 읽기와 쓰기가 약간 느림. 

## 3. 요약
* 스택 장점
1. 매우 빠른 엑세스
2. 변수를 명시적으로 할당 헤제 할 필요가 없음. 
3. 스텍크기 제한. 
4. 변수크기 조정가능. 

* 힙 장점. 
1. 변수는 전역 적으로 엑세스 할 수 잇음. 
2. 상대적으로 느림. 
3. 메모리 크기제한 x
4. 메모리를 관리해야함. 

# 7. 학습 내용에 대한 개인적인 총평

전체적으로 중요한 내용들을 많이 배울수 잇었음. 
스텍과 힙의 차이는 앞으로도 많이 쓰일거 같아 기억해두는거 추천. 
leaks a.out 도 많이 사용할거 같음. 

# 8. 다음 학습 계획

공부할것... >>> net what 공부하기. 
